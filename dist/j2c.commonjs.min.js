"use strict";function cartesian(e,t){var n,a,r=[];for(a in t)if(own.call(t,a))for(n in e)own.call(e,n)&&r.push(e[n]+t[a]);return r}function splitSelector(e){for(var t,n=[],a=[],r=0;t=selectorTokenizer.exec(e);)switch(t[0]){case"(":r++;break;case")":r--;break;case",":if(r)break;n.push(t.index)}for(t=n.length;t--;)a.unshift(e.slice(n[t]+1)),e=e.slice(0,n[t]);return a.unshift(e),a}function ampersand(e,t){for(var n,a,r=[],s=[];a=ampersandTokenizer.exec(e);)"&"==a[0]&&r.push(a.index);for(a=r.length;a--;)s.unshift(e.slice(r[a]+1)),e=e.slice(0,r[a]);for(s.unshift(e),n=[s[0]],a=1;a<s.length;a++)n=cartesian(n,cartesian(t,[s[a]]));return n.join(",")}function flatIter(e){return function t(n){if(type.call(n)===ARRAY)for(var a=0;a<n.length;a++)t(n[a]);else e(n)}}function decamelize(e){return"-"+e.toLowerCase()}function declarations(e,t,n,a,r){var s,l,o;if(null!=e)switch(type.call(e=e.valueOf())){case ARRAY:for(s=0;s<e.length;s++)declarations(e[s],t,n,a,r);break;case OBJECT:n=n&&n+"-";for(s in e)if(own.call(e,s))if(l=e[s],/\$/.test(s))for(o in s=s.split("$"))own.call(s,o)&&declarations(l,t,n+s[o],a,r);else declarations(l,t,n+s,a,r);break;default:s=n.replace(/_/g,"-").replace(/[A-Z]/g,decamelize),!a||"animation-name"!=s&&"animation"!=s&&"list-style"!=s||(e=e.split(",").map(function(e){return e.replace(/:?global\(\s*([_A-Za-z][-\w]*)\s*\)|()(-?[_A-Za-z][-\w]*)/,r)}).join(",")),t.d(s,s?":":"",e,";\n")}}function at$1(e,t,n,a,r,s,l){var o;/^.global$/.test(e)?sheet(t,n,a,1,0,l):/^.local$/.test(e)?sheet(t,n,a,1,1,l):/^.(?:-[\w]+-)?(?:namespace|import|charset)$/.test(e)?flatIter(function(t){n.a(e," ",t,";\n")})(t):/^.(?:-[\w]+-)?(?:font-face|viewport|swash|ornaments|annotation|stylistic|styleset|character-variant)$/.test(e)?flatIter(function(t){n.a(e,"",""," {\n"),declarations(t,n,"",s,l),n.c("}\n")})(t):/^.(?:-[\w]+-)?(?:media|supports|document|page|keyframes|counter-style|font-feature-values)\b\s*(\S.*)/.test(e)?(o=e.match(/^.(?:-[\w]+-)?(?:media|supports|document|page|keyframes|counter-style|font-feature-values)\b\s*(\S.*)/)[1],e=e.match(/^.(?:-[\w]+-)?(?:media|supports|document|page|keyframes|counter-style|font-feature-values)/)[0],s&&/^.(?:-[\w]+-)?(?:keyframes|counter-style)/.test(e)&&(o=o.replace(/:?global\(\s*([_A-Za-z][-\w]*)\s*\)|()(-?[_A-Za-z][-\w]*)/,l)),n.a(e," ",o," {\n"),/.(?:-[\w]+-)?(?:page|counter-style)/.test(e)?declarations(t,n,"",s,l):sheet(t,n,a,1,s,l),n.c("}\n")):n.a("@-error-unsupported-at-rule"," ",JSON.stringify(e),";\n")}function sheet(e,t,n,a,r,s){var l,o,c,i;switch(type.call(e)){case ARRAY:for(l=0;l<e.length;l++)sheet(e[l],t,n,a,r,s);break;case OBJECT:for(l in e)if(own.call(e,l))if(o=e[l],n&&/^[-\w$]+$/.test(l))if(c||(c=1,t.s(n," {\n")),/\$/.test(l))for(i in l=l.split("$"))own.call(l,i)&&declarations(o,t,l[i],r,s);else declarations(o,t,l,r,s);else/^@/.test(l)?(c=c&&t.c("}\n")&&0,at$1(l,o,t,n,a,r,s)):(c=c&&t.c("}\n")&&0,sheet(o,t,/,/.test(n)||n&&/,/.test(l)?(i=splitSelector(n),splitSelector(r?l.replace(/:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,s):l).map(function(e){return/&/.test(e)?ampersand(e,i):i.map(function(t){return t+e}).join(",")}).join(",")):/&/.test(l)?ampersand(r?l.replace(/:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,s):l,[n]):n+(r?l.replace(/:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,s):l),a||n?"":l,r,s));c&&t.c("}\n");break;case STRING:t.s(n||":-error-no-selector"," {\n"),declarations(e,t,"",r,s),t.c("}\n")}}function global(e){return":global("+e+")"}function kv(e,t,n){return n={},n[e]=t,n}function at(e,t,n){if(arguments.length<3){var a=at.bind.apply(at,[null].concat([].slice.call(arguments,0)));return a.toString=function(){return"@"+e+" "+t},a}return kv("@"+e+" "+t,n)}function j2c(){function e(t,n){for(var a in n)own.call(n,a)&&a.indexOf("$")&&(OBJECT==type.call(n[a])&&OBJECT==type.call(t[a])?e(t[a],n[a]):a in t||(t[a]=n[a]))}function t(e){function t(){emptyArray.push.apply(n,arguments)}for(var n=[],r={x:function(e){return e?n:n.join("")},a:t,s:t,d:t,c:t},s=a.length;s--;)r=a[s](r,e);return r}function n(e,t,n,a){return t?t:(r.names[a]||(r.names[a]=a+r.suffix),n+r.names[a].match(/^\S+/))}var a=[],r={at:at,global:global,kv:kv,names:{},suffix:"__j2c-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36),use:function(){return s(emptyArray.slice.call(arguments)),r},$plugins:[]},s=flatIter(function(t){~r.$plugins.indexOf(t)||(r.$plugins.push(t),type.call(t)===FUNCTION&&(t=t(r)),t&&(flatIter(function(e){a.push(e)})(t.$filter||[]),e(r,t)))});return r.compose=function(e,t){if(!/^-?[_A-Za-z][-\w]*$/.test(e))throw new Error("Bad target class "+JSON.stringify(e));flatIter(function(e){if(!/^\s*-?[_A-Za-z][-\w]*(?:\s+-?[_A-Za-z][-\w]*)*\s*$/.test(e))throw new Error("Bad source class "+JSON.stringify(e.match(/(?:^| )--|[^-\w\s]|^$/)[0]))})(t),n(0,0,0,e),flatIter(function(t){r.names[e]=r.names[e]+" "+t})(t)},r.sheet=function(e,a){return sheet(e,a=t(!1),"","",1,n),a.x()},r.inline=function(e,a){return declarations(e,a=t(!0),"",1,n),a.x()},r}var emptyArray=[],emptyObject={},type=emptyObject.toString,ARRAY=type.call(emptyArray),OBJECT=type.call(emptyObject),STRING=type.call(""),FUNCTION=type.call(type),own=emptyObject.hasOwnProperty,selectorTokenizer=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,ampersandTokenizer=/&|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,_j2c=j2c();"sheet|inline|names|at|global|kv|suffix|compose".split("|").map(function(e){j2c[e]=_j2c[e]}),module.exports=j2c;