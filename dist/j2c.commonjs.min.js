"use strict";function cartesian(e,t,n,a,r,s){a=[];for(s in t)if(own.call(t,s))for(r in e)own.call(e,r)&&a.push(concat(e[r],t[s],n));return a}function concat(e,t,n){return n&&(/^[-\w$]+$/.test(t)&&":-error-bad-sub-selector-"+t||/&/.test(t)&&t.replace(/&/g,e))||e+t}function decamelize(e){return"-"+e.toLowerCase()}function declarations(e,t,n,a,r,s,l,o,i){if(null!=e)if(/\$/.test(n))for(i in n=n.split("$"))own.call(n,i)&&declarations(e,t,n[i],a,r,s);else switch(type.call(e=e.valueOf())){case ARRAY:for(l=0;l<e.length;l++)declarations(e[l],t,n,a,r,s);break;case OBJECT:n=n&&n+"-";for(l in e)if(own.call(e,l))if(o=e[l],/\$/.test(l))for(i in l=l.split("$"))own.call(l,i)&&declarations(o,t,n+l[i],a,r,s);else declarations(o,t,n+l,a,r,s);break;default:for(l=n.replace(/_/g,"-").replace(/[A-Z]/g,decamelize),!r||"animation-name"!=l&&"animation"!=l||(e=e.split(",").map(function(e){return e.replace(/()(?::global\(\s*([-\w]+)\s*\)|()([-\w]+))/,s.l)}).join(",")),/^animation|^transition/.test(l)&&(a=["webkit"]),l=l.replace(/^@/,"*"),i=0;i<a.length;i++)t.push("-",a[i],"-",l,l?":":"",e,";\n");t.push(l,l?":":"",e,";\n")}}function at(e,t,n,a,r,s,l,o){var i;if(/^@(?:namespace|import|charset)$/.test(e))if(type.call(t)==ARRAY)for(i=0;i<t.length;i++)n.push(e," ",t[i],";\n");else n.push(e," ",t,";\n");else if(/^@keyframes /.test(e))e=l?e.replace(/( )(?::global\(\s*([-\w]+)\s*\)|()([-\w]+))/,o.l):e,n.push("@-webkit-",e.slice(1)," {\n"),sheet(t,n,"","",["webkit"]),n.push("}\n"),n.push(e," {\n"),sheet(t,n,"","",s,l,o),n.push("}\n");else if(/^@extends?$/.test(e)){for(;i=findClass.exec(r);)e=i[4];if(null==e||!l)return void n.push("@-error-cannot-extend-in-global-context ",JSON.stringify(r),";\n");if(/^@extends?$/.test(e))return void n.push("@-error-no-class-to-extend-in ",JSON.stringify(r),";\n");o.e(type.call(t)==ARRAY?t.map(function(e){return e.replace(/()(?::global\(\s*(\.[-\w]+)\s*\)|()\.([-\w]+))/,o.l)}).join(" "):t.replace(/()(?::global\(\s*(\.[-\w]+)\s*\)|()\.([-\w]+))/,o.l),e)}else/^@(?:font-face$|viewport$|page )/.test(e)?sheet(t,n,e,e,emptyArray):/^@global$/.test(e)?sheet(t,n,a,r,s,0,o):/^@local$/.test(e)?sheet(t,n,a,r,s,1,o):/^@(?:media |supports |document )./.test(e)?(n.push(e," {\n"),sheet(t,n,a,r,s,l,o),n.push("}\n")):n.push("@-error-unsupported-at-rule ",JSON.stringify(e),";\n")}function sheet(e,t,n,a,r,s,l){var o,i,c,p;switch(type.call(e)){case ARRAY:for(o=0;o<e.length;o++)sheet(e[o],t,n,a,r,s,l);break;case OBJECT:for(o in e)c=e[o],n&&/^[-\w$]+$/.test(o)?(p||(p=1,t.push(n||"*"," {\n")),declarations(c,t,o,r,s,l)):/^@/.test(o)?(p=p&&t.push("}\n")&&0,at(o,c,t,n,a,r,s,l)):(p=p&&t.push("}\n")&&0,sheet(c,t,(i=/,/.test(n)||n&&/,/.test(o))?cartesian(n.split(","),(s?o.replace(/()(?::global\(\s*(\.[-\w]+)\s*\)|(\.)([-\w]+))/g,l.l):o).split(","),n).join(","):concat(n,s?o.replace(/()(?::global\(\s*(\.[-\w]+)\s*\)|(\.)([-\w]+))/g,l.l):o,n),i?cartesian(a.split(","),o.split(","),a).join(","):concat(a,o,a),r,s,l));p&&t.push("}\n");break;case STRING:t.push(n||":-error-no-selector"," {\n"),declarations(e,t,"",r,s,l),t.push("}\n")}}function flatIter(e){return function t(n){if(type.call(n)===ARRAY)for(var a=0;a<n.length;a++)t(n[a]);else e(n)}}function j2c(){function e(e,n,a){for(a=0;a<t.length;a++)e=t[a](e)||e;return e.join("")}var t=[],n={},a={flatIter:flatIter,names:n,scopeRoot:"__j2c-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36),use:function(){return l(emptyArray.slice.call(arguments)),a}},r=flatIter(function(e){for(var t in e)t in n||(n[t]=e[t])}),s=flatIter(function(e){t.push(e)}),l=flatIter(function(e){if(type.call(e)===FUNCTION&&(e=e(a)),e)for(var t in e)if(own.call(e,t))switch(t){case"names":r(e[t]);break;case"postprocess":s(e[t]);break;default:t in a||(a[t]=e[t])}});l(emptyArray.slice.call(arguments));var o={e:function(e,t){var a=n[t];n[t]=a.slice(0,a.lastIndexOf(" ")+1)+e+" "+a.slice(a.lastIndexOf(" ")+1)},l:function(e,t,r,s,l){return r?t+r:(n[l]||(n[l]=l+a.scopeRoot),t+s+n[l].match(/\S+$/))}};return a.sheet=function(t,n){return sheet(t,n=[],"","",emptyArray,1,o),n=e(n)},a.inline=function(t,n){return declarations(t,n=[],"",emptyArray,1,o),e(n)},a}var emptyObject={},emptyArray=[],type=emptyObject.toString,own=emptyObject.hasOwnProperty,OBJECT=type.call(emptyObject),ARRAY=type.call(emptyArray),STRING=type.call(""),FUNCTION=type.call(type),findClass=/()(?::global\(\s*(\.[-\w]+)\s*\)|(\.)([-\w]+))/g,_j2c=j2c();"sheet|sheets|inline|remove|names|flatIter".split("|").map(function(e){j2c[e]=_j2c[e]}),module.exports=j2c;