"use strict";function cartesian(e,t,n,r,a,s){r=[];for(s in t)if(own.call(t,s))for(a in e)own.call(e,a)&&r.push(concat(e[a],t[s],n));return r}function concat(e,t,n){if(n&&/^[-\w$]+$/.test(t))throw new Error("invalid selector '"+t+"'");return n&&/&/.test(t)?t.replace(/&/g,e):e+t}function decamelize(e){return"-"+e.toLowerCase()}function declarations(e,t,n,r,a,s,l,o){if(null!=e)switch(type.call(e=e.valueOf())){case ARRAY:for(s=0;s<e.length;s++)declarations(e[s],t,n,r,a);break;case OBJECT:n=n&&n+"-";for(s in e)if(own.call(e,s))if(l=e[s],/\$/.test(s))for(o in s=s.split("$"))own.call(s,o)&&declarations(l,t,n+s[o],r,a);else declarations(l,t,n+s,r,a);break;default:for(s=n&&n.replace(/_/g,"-").replace(/[A-Z]/g,decamelize)+":",!a||"animation-name:"!=s&&"animation:"!=s||(e=e.split(",").map(function(e){return e.replace(/()(?::global\(\s*([-\w]+)\s*\)|()([-\w]+))/,a)}).join(","),r=["webkit"]),e=s+e+";",o=0;o<r.length;o++)t.push("-"+r[o]+"-"+e);t.push(e.replace(/^@/,"at-"))}}function sheet(e,t,n,r,a,s,l,o,c,i){switch(c=e,type.call(e)){case ARRAY:for(s=0;s<e.length;s++)sheet(e[s],t,n,r,a);break;case OBJECT:c={};for(s in e)if(o=e[s],n&&/^[-\w$]+$/.test(s))c[s]=o;else if(/^@/.test(s))if(/^@(?:namespace|import|charset)$/.test(s))if(type.call(o)==ARRAY)for(l=0;l<o.length;l++)t.push(s+" "+o[l]+";");else t.push(s+" "+o+";");else if(/^@keyframes /.test(s))s=a?s.replace(/( )(?::global\(\s*([-\w]+)\s*\)|()([-\w]+))/,a):s,t.push("@-webkit-"+s.slice(1)+"{"),sheet(o,t,"",["webkit"]),t.push("}"),t.push(s+"{"),sheet(o,t,"",r,a),t.push("}");else if(/^@extends?$/.test(s)){for(;l=findKlass.exec(n);)s=l[4];if(null==s||!a||/^@extends?$/.test(s)){c["at-extend"]=o+", no class to extend";continue}a("","",void 0,"",s),a(type.call(o)==ARRAY?o.map(function(e){return e.replace(/()(?::global\(\s*(\.[-\w]+)\s*\)|()\.([-\w]+))/,a)}).join(" "):o.replace(/()(?::global\(\s*(\.[-\w]+)\s*\)|()\.([-\w]+))/,a),"e",s)}else/^@(?:font-face$|viewport$|page )/.test(s)?sheet(o,t,s,emptyArray):/^@global$/.test(s)?sheet(o,t,a?n.replace(/()(?::global\(\s*(\.[-\w]+)\s*\)|(\.)([-\w]+))/g,a):n,r):/^@(?:media |supports )/.test(s)?i=1:c[s]=o;else sheet(o,t,/,/.test(n)||/,/.test(s)?cartesian(n.split(","),s.split(","),n).join(","):concat(n,s,n),r,a);case STRING:o=(a?n.replace(/()(?::global\(\s*(\.[-\w]+)\s*\)|(\.)([-\w]+))/g,a):n)||"*";for(s in c)if(own.call(c,s)){t.push(o+"{"),declarations(c,t,"",r,a),t.push("}");break}}if(i)for(s in e)/^@(?:media |supports )/.test(s)&&(t.push(s+"{"),sheet(e[s],t,n,r,a),t.push("}"))}function j2c(e){function t(e,t){for(t=0;t<n.length;t++)e=n[t](e)||e;return e.join("\n")}e=e||{};var n=[];return e.use=function(){for(var t=arguments,r=0;r<t.length;r++)n.push(t[r]);return e},e.sheet=function(e,n){1===arguments.length&&(n=e,e={});var r,a=scope_root+counter++,s={},l=[];for(r in e)r-0!=r-0&&own.call(e,r)&&(s[r]=e[r]);sheet(n,l,"",emptyArray,function(e,t,n,r,l){if("e"==t)r=s[n],s[n]=r.slice(0,r.lastIndexOf(" ")+1)+e+" "+r.slice(r.lastIndexOf(" ")+1);else if(n)return t+n;return s[l]||(s[l]=l+a),t+r+s[l].match(/\S+$/)}),l=new String(t(l));for(r in s)own.call(s,r)&&(l[r]=s[r]);return l},e.inline=function(e,n,r){return 1===arguments.length&&(n=e,e={}),declarations(n,r=[],"",emptyArray,function(t,n,r,a,s){return r?n+r:e[s]?n+a+e[s]:s}),t(r)},e.prefix=function(e,t){return cartesian(t.map(function(e){return"-"+e+"-"}).concat([""]),[e])},e}function kv(e,t,n){return n={},n[e]=t,n}var emptyObject={},emptyArray=[],type=emptyObject.toString,own=emptyObject.hasOwnProperty,OBJECT=type.call(emptyObject),ARRAY=type.call(emptyArray),STRING=type.call(""),findKlass=/()(?::global\(\s*(\.[-\w]+)\s*\)|(\.)([-\w]+))/g,scope_root="_j2c_"+Math.floor(4294967296*Math.random()).toString(36)+"_"+Math.floor(4294967296*Math.random()).toString(36)+"_"+Math.floor(4294967296*Math.random()).toString(36)+"_"+Math.floor(4294967296*Math.random()).toString(36)+"_",counter=0;j2c.global=function(e){return":global("+e+")"},j2c.kv=kv,j2c.at=function(e,t,n){return arguments.length<3?f.bind.apply(f,[null].concat([].slice.call(arguments,0))):kv("@"+e+" "+t,n)},j2c(j2c),delete j2c.use,module.exports=j2c;