"use strict";function _default(e,t){for(var n in t)own.call(t,n)&&(!n.indexOf("$")||n in e||(e[n]=t[n]));return e}function cartesian(e,t){var n,a,r=[];for(a in t)if(own.call(t,a))for(n in e)own.call(e,n)&&r.push(e[n]+t[a]);return r}function splitSelector(e){for(var t,n=[],a=[],r=0;t=selectorTokenizer.exec(e);)switch(t[0]){case"(":r++;break;case")":r--;break;case",":if(r)break;n.push(t.index)}for(t=n.length;t--;)a.unshift(e.slice(n[t]+1)),e=e.slice(0,n[t]);return a.unshift(e),a}function ampersand(e,t){for(var n,a,r=[],s=[];a=ampersandTokenizer.exec(e);)"&"==a[0]&&r.push(a.index);for(a=r.length;a--;)s.unshift(e.slice(r[a]+1)),e=e.slice(0,r[a]);for(s.unshift(e),n=[s[0]],a=1;a<s.length;a++)n=cartesian(n,cartesian(t,[s[a]]));return n.join(",")}function flatIter(e){return function t(n){if(type.call(n)===ARRAY)for(var a=0;a<n.length;a++)t(n[a]);else e(n)}}function decamelize(e){return"-"+e.toLowerCase()}function declarations(e,t,n,a,r){var s,i,l;if(null!=a)switch(type.call(a=a.valueOf())){case ARRAY:for(s=0;s<a.length;s++)declarations(e,t,n,a[s],r);break;case OBJECT:n=n&&n+"-";for(s in a)if(own.call(a,s))if(i=a[s],/\$/.test(s))for(l in s=s.split("$"))own.call(s,l)&&declarations(e,t,n+s[l],i,r);else declarations(e,t,n+s,i,r);break;default:s=n.replace(/_/g,"-").replace(/[A-Z]/g,decamelize),!r||"animation-name"!=s&&"animation"!=s&&"list-style"!=s||(a=a.split(",").map(function(t){return t.replace(/(var\([^)]+\))|:?global\(\s*([_A-Za-z][-\w]*)\s*\)|()(-?[_A-Za-z][-\w]*)/,e.L)}).join(",")),t.d(s,a)}}function atRules(e,t,n,a,r,s,i){for(var l=0;l<e.$a.length;l++)if(e.$a[l](e,t,n,a,r,s,i))return;if(!n[3]&&/^global$/.test(n[2]))sheet(e,t,r,a,0,i);else if(!n[3]&&/^local$/.test(n[2]))sheet(e,t,r,a,1,i);else if(n[3]&&/^adopt$/.test(n[2])){if(!s||i)return t.a("@-error-bad-at-adopt-placement",JSON.stringify(n[0]),0);if(!/^\.?[_A-Za-z][-\w]*$/.test(n[3]))return t.a("@-error-bad-at-adopter",n[3],0);l=[],flatIter(function(e,n){n=e.toString(),/^\.?[_A-Za-z][-\w]*(?:\s+\.?[_A-Za-z][-\w]*)*$/.test(n)?l.push(n.replace(/\./g,"")):t.a("@-error-bad-at-adoptee",JSON.stringify(e),0)})(a),l.length&&(e.l(n[3]=n[3].replace(/\./g,"")),e.n[n[3]]+=" "+l.join(" "))}else!n[3]&&/^(?:namespace|import|charset)$/.test(n[2])?flatIter(function(e){t.a(n[0],e)})(a):!n[3]&&/^(?:font-face|viewport)$/.test(n[2])?flatIter(function(a){t.a(n[1],"",1),declarations(e,t,"",a,s),t.A(n[1],"")})(a):n[3]&&/^(?:media|supports|page|keyframes)$/.test(n[2])?(s&&"keyframes"==n[2]&&(n[3]=n[3].replace(/(var\([^)]+\))|:?global\(\s*([_A-Za-z][-\w]*)\s*\)|()(-?[_A-Za-z][-\w]*)/,e.L)),t.a(n[1],n[3],1),"page"==n[2]?declarations(e,t,"",a,s):sheet(e,t,"keyframes"==n[2]?"":r,a,s,1),t.A(n[1],n[3])):t.a("@-error-unsupported-at-rule",JSON.stringify(n[0]))}function sheet(e,t,n,a,r,s){var i,l,o,c;switch(type.call(a)){case OBJECT:for(i in a)if(own.call(a,i))if(l=a[i],n&&/^[-\w$]+$/.test(i))if(o||(o=1,t.s(n)),/\$/.test(i))for(c in i=i.split("$"))own.call(i,c)&&declarations(e,t,i[c],l,r);else declarations(e,t,i,l,r);else/^@/.test(i)?(o=0,atRules(e,t,/^(.(?:-[\w]+-)?([_A-Za-z][-\w]*))\b\s*(.*?)\s*$/.exec(i)||[i,"@","",""],l,n,r,s)):(o=0,sheet(e,t,n&&(/,/.test(n)||/,/.test(i))?(c=splitSelector(n),splitSelector(r?i.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.L):i).map(function(e){return/&/.test(e)?ampersand(e,c):c.map(function(t){return t+e}).join(",")}).join(",")):/&/.test(i)?ampersand(r?i.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.L):i,[n]):n+(r?i.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.L):i),l,r,s));break;case ARRAY:for(i=0;i<a.length;i++)sheet(e,t,n,a[i],r,s);break;case STRING:t.s(n||":-error-no-selector"),declarations(e,t,"",a,r)}}function closeSelectors(e,t){var n;return t?e:{i:function(){n=0,e.i()},x:function(t){return n&&(e.S(),n=0),e.x(t)},a:function(t,a,r){n&&(e.S(),n=0),e.a(t,a,r)},A:function(t){n&&(e.S(),n=0),e.A(t)},s:function(t){t!==n&&(n&&e.S(),e.s(t),n=t)},d:e.d}}function global(e){return":global("+e+")"}function kv(e,t,n){return n={},n[e]=t,n}function at(e,t,n){if(arguments.length<3){var a=at.bind.apply(at,[null].concat([].slice.call(arguments,0)));return a.toString=function(){return"@"+e+" "+t},a}return kv("@"+e+" "+t,n)}function j2c(){function e(e){if(!o.length)for(var t=0;2>t;t++){r[r.length-t]=function(e,t){return t?{i:l.i,d:l.d,x:l.x}:l};for(var n=r.length;n--;)o[t]=freeze(_default(r[n](o[t],!!t,c[t]),o[t]))}var a=o[e];return a}function t(e){return i.names[e]||(i.names[e]=e+i.suffix),i.names[e].match(/^\S+/)}function n(e,n,a,r,s){return n||a?n||a:r+t(s)}var a,r=[closeSelectors],s=[],i={at:at,global:global,kv:kv,names:{},suffix:"__j2c-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36),use:function(){return f(emptyArray.slice.call(arguments)),i},$plugins:[]},l={i:function(){a=[]},x:function(e){return e?a:a.join("")},a:function(e,t,n){a.push(e,t&&" ",t,n?" {\n":";\n")},A:function(){a.push("}\n")},s:function(e){a.push(e," {\n")},S:function(){a.push("}\n")},d:function(e,t){a.push(e,e&&":",t,";\n")}},o=[],c=[{$a:s,a:atRules,d:declarations,L:n,l:t,n:i.names,s:sheet},{d:declarations,L:n,l:t,n:i.names}],f=flatIter(function(e){~i.$plugins.indexOf(e)||(i.$plugins.push(e),type.call(e)===FUNCTION&&(e=e(i)),e&&(flatIter(function(e){r.push(e)})(e.$filter||emptyArray),flatIter(function(e){s.push(e)})(e.$at||emptyArray),_default(i.names,e.$names||emptyObject),f(e.$plugins||emptyArray),l=e.$sink||l,_default(i,e)))});return i.sheet=function(t){var n=e(0);return n.i(),sheet(c[0],n,"",t,1,0),n.x()},i.inline=function(t){var n=e(1);return n.i(),declarations(c[1],n,"",t,1),n.x()},i}var emptyArray=[],emptyObject={},type=emptyObject.toString,ARRAY=type.call(emptyArray),OBJECT=type.call(emptyObject),STRING=type.call(""),FUNCTION=type.call(type),own=emptyObject.hasOwnProperty,freeze=Object.freeze||function(e){return e},selectorTokenizer=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,ampersandTokenizer=/&|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,_j2c=j2c();"sheet|inline|names|at|global|kv|suffix".split("|").map(function(e){j2c[e]=_j2c[e]}),module.exports=j2c;