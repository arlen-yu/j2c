"use strict";function cartesian(e,t,n,r,a,o){r=[];for(o in t)if(own.call(t,o))for(a in e)own.call(e,a)&&r.push(concat(e[a],t[o],n));return r}function concat(e,t,n){if(n&&t.match(/^[-\w$]+$/))throw new Error("invalid selector '"+t+"'");return n&&t.indexOf("&")+1?t.replace(/&/g,e):e+t}function decamelize(e){return"-"+e.toLowerCase()}function declarations(e,t,n,r,a,o,s,l){if(null!=e)switch(type.call(e=e.valueOf())){case ARRAY:for(o=0;o<e.length;o++)declarations(e[o],t,n,r,a);break;case OBJECT:n=n&&n+"-";for(o in e)if(own.call(e,o))if(s=e[o],o.indexOf("$")+1)for(l in o=o.split("$"))own.call(o,l)&&declarations(s,t,n+o[l],r,a);else declarations(s,t,n+o,r,a);break;default:for(o=n&&n.replace(/_/g,"-").replace(/[A-Z]/g,decamelize)+":",!a||"animation-name:"!=o&&"animation:"!=o||(e=e.split(",").map(function(e){return e.replace(/()(?::global\(\s*([-\w]+)\s*\)|()([-\w]+))/,a)}).join(",")),e=o+e+";",l=0;l<r.length;l++)t.push("-"+r[l]+"-"+e);t.push(e)}}function sheet(e,t,n,r,a,o,s,l,c,i){switch(c=e,type.call(e)){case ARRAY:for(o=0;o<e.length;o++)sheet(e[o],t,n,r,a);break;case OBJECT:c={};for(o in e)if(l=e[o],/^[-\w$]+$/.test(o))c[o]=l;else if("@"==o[0])if(/^.(?:namespace|import|charset)/.test(o))if(type.call(l)==ARRAY)for(s=0;s<l.length;s++)t.push(o+" "+l[s]+";");else t.push(o+" "+l+";");else/^.keyframes /.test(o)?(o=a?o.replace(/( )(?::global\(\s*([-\w]+)\s*\)|()([-\w]+))/,a):o,t.push("@-webkit-"+o.slice(1)+"{"),sheet(l,t,"",["webkit"]),t.push("}"),t.push(o+"{"),sheet(l,t,"",r,a),t.push("}")):/^.(?:font-face|viewport|page )/.test(o)?sheet(l,t,o,emptyArray):/^.global/.test(o)?sheet(l,t,a?n.replace(/()(?::global\(\s*(\.[-\w]+)\s*\)|(\.)([-\w]+)(?:\s*(:extend\()\s*(?::global\(\s*\.([-\w]+)\s*\)|(\.)([-\w]+))(?:\s*,\s*(?::global\(\s*\.([-\w]+)\s*\)|(\.)([-\w]+)))*\s*\))?)/g,a):n,r):i=!0;else sheet(l,t,n.indexOf(",")+o.indexOf(",")+2?cartesian(n.split(","),o.split(","),1).join(","):concat(n,o,1),r,a);case STRING:l=(a?n.replace(/()(?::global\(\s*(\.[-\w]+)\s*\)|(\.)([-\w]+)(?:\s*(:extend\()\s*(?::global\(\s*\.([-\w]+)\s*\)|(\.)([-\w]+))(?:\s*,\s*(?::global\(\s*\.([-\w]+)\s*\)|(\.)([-\w]+)))*\s*\))?)/g,a):n)||"*";for(o in c)if(own.call(c,o)){t.push(l+"{"),declarations(c,t,"",r,a),t.push("}");break}}if(i)for(o in e)/^@(?:media|document|supports)/.test(o)&&(t.push(o+"{"),sheet(e[o],t,n,r,a),t.push("}"))}function j2c(e){function t(e,t){for(t=0;t<n.length;t++)e=n[t](e)||e;return e.join("\n")}e=e||{};var n=[];return e.use=function(){for(var t=arguments,r=0;r<t.length;r++)n.push(t[r]);return e},e.sheet=function(e,n){1===arguments.length&&(n=e,e={});var r,a=scope_root+counter++,o={},s=[];for(r in e)r-0!=r-0&&own.call(e,r)&&(o[r]=e[r]);sheet(n,s,"",emptyArray,function l(t,n,s,c,i,f){var u=[];if(":extend("===f){if(i in e)throw new Error("Foreign names can't be extended: "+i);if((o[i]||"").indexOf(" ")+1)throw new Error("class ."+i+" can only be extended once");for(f=arguments,r=6;r<f.length-2;r+=3)(f[r]||f[r+2])&&u.push(f[r]||l(0,"",0,"",f[r+2]));u.push(i+a)}else u=[i+a];return s?n+s:(o[i]||(o[i]=u.join(" ")),n+c+o[i].match(/\S+$/))}),s=new String(t(s));for(r in o)own.call(o,r)&&(s[r]=o[r]);return s},e.inline=function(e,n,r){return 1===arguments.length&&(n=e,e={}),declarations(n,r=[],"",emptyArray,function(t,n,r,a,o){return r?n+r:e[o]?n+a+e[o]:o}),t(r)},e.prefix=function(e,t){return cartesian(t.map(function(e){return"-"+e+"-"}).concat([""]),[e])},e}var emptyObject={},emptyArray=[],type=emptyObject.toString,own=emptyObject.hasOwnProperty,OBJECT=type.call(emptyObject),ARRAY=type.call(emptyArray),STRING=type.call(""),scope_root="_j2c_"+Math.floor(4294967296*Math.random()).toString(36)+"_"+Math.floor(4294967296*Math.random()).toString(36)+"_"+Math.floor(4294967296*Math.random()).toString(36)+"_"+Math.floor(4294967296*Math.random()).toString(36)+"_",counter=0;j2c(j2c),delete j2c.use,module.exports=j2c;