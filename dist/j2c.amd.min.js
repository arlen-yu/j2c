define(function(){"use strict";function n(n,t){var e,a,r=[];for(a in t)if(b.call(t,a))for(e in n)b.call(n,e)&&r.push(n[e]+t[a]);return r}function t(n){for(var t,e=[],a=[],r=0;t=y.exec(n);)switch(t[0]){case"(":r++;break;case")":r--;break;case",":if(r)break;e.push(t.index)}for(t=e.length;t--;)a.unshift(n.slice(e[t]+1)),n=n.slice(0,e[t]);return a.unshift(n),a}function e(t,e){for(var a,r,s=[],l=[];r=$.exec(t);)"&"==r[0]&&s.push(r.index);for(r=s.length;r--;)l.unshift(t.slice(s[r]+1)),t=t.slice(0,s[r]);for(l.unshift(t),a=[l[0]],r=1;r<l.length;r++)a=n(a,n(e,[l[r]]));return a.join(",")}function a(n){return function t(e){if(m.call(e)===h)for(var a=0;a<e.length;a++)t(e[a]);else n(e)}}function r(n){return"-"+n.toLowerCase()}function s(n,t,e,a,l){var o,i,c;if(null!=n)switch(m.call(n=n.valueOf())){case h:for(o=0;o<n.length;o++)s(n[o],t,e,a,l);break;case w:e=e&&e+"-";for(o in n)if(b.call(n,o))if(i=n[o],/\$/.test(o))for(c in o=o.split("$"))b.call(o,c)&&s(i,t,e+o[c],a,l);else s(i,t,e+o,a,l);break;default:o=e.replace(/_/g,"-").replace(/[A-Z]/g,r),!a||"animation-name"!=o&&"animation"!=o&&"list-style"!=o||(n=n.split(",").map(function(n){return n.replace(/:?global\(\s*([_A-Za-z][-\w]*)\s*\)|()(-?[_A-Za-z][-\w]*)/,l)}).join(",")),t.d(o,o?":":"",n,";\n")}}function l(n,t,e,r,l,i,c){var u;/^.global$/.test(n)?o(t,e,r,1,0,c):/^.local$/.test(n)?o(t,e,r,1,1,c):/^.(?:-[\w]+-)?(?:namespace|import|charset)$/.test(n)?a(function(t){e.a(n," ",t,";\n")})(t):/^.(?:-[\w]+-)?(?:font-face|viewport|swash|ornaments|annotation|stylistic|styleset|character-variant)$/.test(n)?a(function(t){e.a(n,"",""," {\n"),s(t,e,"",i,c),e.c("}\n")})(t):/^.(?:-[\w]+-)?(?:media|supports|document|page|keyframes|counter-style|font-feature-values)\b\s*(\S.*)/.test(n)?(u=n.match(/^.(?:-[\w]+-)?(?:media|supports|document|page|keyframes|counter-style|font-feature-values)\b\s*(\S.*)/)[1],n=n.match(/^.(?:-[\w]+-)?(?:media|supports|document|page|keyframes|counter-style|font-feature-values)/)[0],i&&/^.(?:-[\w]+-)?(?:keyframes|counter-style)/.test(n)&&(u=u.replace(/:?global\(\s*([_A-Za-z][-\w]*)\s*\)|()(-?[_A-Za-z][-\w]*)/,c)),e.a(n," ",u," {\n"),/.(?:-[\w]+-)?(?:page|counter-style)/.test(n)?s(t,e,"",i,c):o(t,e,r,1,i,c),e.c("}\n")):e.a("@-error-unsupported-at-rule"," ",JSON.stringify(n),";\n")}function o(n,a,r,i,c,u){var f,p,g,v;switch(m.call(n)){case h:for(f=0;f<n.length;f++)o(n[f],a,r,i,c,u);break;case w:for(f in n)if(b.call(n,f))if(p=n[f],r&&/^[-\w$]+$/.test(f))if(g||(g=1,a.s(r," {\n")),/\$/.test(f))for(v in f=f.split("$"))b.call(f,v)&&s(p,a,f[v],c,u);else s(p,a,f,c,u);else/^@/.test(f)?(g=g&&a.c("}\n")&&0,l(f,p,a,r,i,c,u)):(g=g&&a.c("}\n")&&0,o(p,a,/,/.test(r)||r&&/,/.test(f)?(v=t(r),t(c?f.replace(/:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,u):f).map(function(n){return/&/.test(n)?e(n,v):v.map(function(t){return t+n}).join(",")}).join(",")):/&/.test(f)?e(c?f.replace(/:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,u):f,[r]):r+(c?f.replace(/:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,u):f),i||r?"":f,c,u));g&&a.c("}\n");break;case d:a.s(r||":-error-no-selector"," {\n"),s(n,a,"",c,u),a.c("}\n")}}function i(n){return":global("+n+")"}function c(n,t,e){return e={},e[n]=t,e}function u(n,t,e){if(arguments.length<3){var a=u.bind.apply(u,[null].concat([].slice.call(arguments,0)));return a.toString=function(){return"@"+n+" "+t},a}return c("@"+n+" "+t,e)}function f(){function n(t,e){for(var a in e)b.call(e,a)&&a.indexOf("$")&&(w==m.call(e[a])&&w==m.call(t[a])?n(t[a],e[a]):a in t||(t[a]=e[a]))}function t(n){function t(){p.push.apply(e,arguments)}for(var e=[],a={x:function(n){return n?e:e.join("")},a:t,s:t,d:t,c:t},s=r.length;s--;)a=r[s](a,n);return a}function e(n,t,e,a){return t?t:(l.names[a]||(l.names[a]=a+l.suffix),e+l.names[a].match(/^\S+/))}var r=[],l={at:u,global:i,kv:c,names:{},suffix:"__j2c-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36),use:function(){return f(p.slice.call(arguments)),l},$plugins:[]},f=a(function(t){~l.$plugins.indexOf(t)||(l.$plugins.push(t),m.call(t)===v&&(t=t(l)),t&&(a(function(n){r.push(n)})(t.$filter||[]),n(l,t)))});return l.compose=function(n,t){if(!/^-?[_A-Za-z][-\w]*$/.test(n))throw new Error("Bad target class "+JSON.stringify(n));e(0,0,0,n),a(function(t){l.names[n]=l.names[n]+" "+t})(t)},l.sheet=function(n,a){return o(n,a=t(!1),"","",1,e),a.x()},l.inline=function(n,a){return s(n,a=t(!0),"",1,e),a.x()},l}var p=[],g={},m=g.toString,h=m.call(p),w=m.call(g),d=m.call(""),v=m.call(m),b=g.hasOwnProperty,y=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,$=/&|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,_=f();return"sheet|inline|names|at|global|kv|suffix|compose".split("|").map(function(n){f[n]=_[n]}),f});