define(function(){"use strict";function e(e,n,a,r,s,o){r=[];for(o in n)if(b.call(n,o))for(s in e)b.call(e,s)&&r.push(t(e[s],n[o],a));return r}function t(e,t,n){return n&&(/^[-\w$]+$/.test(t)&&":-error-bad-sub-selector-"+t||/&/.test(t)&&t.replace(/&/g,e))||e+t}function n(e){for(var t,n,a=[],r=[],s=0;t=d.exec(e);)switch(t[0]){case"(":s++;break;case")":s--;break;case",":if(s)break;a.push(t.index)}for(n=a.length;n--;)r.unshift(e.slice(a[n]+1)),e=e.slice(0,a[n]);return r.unshift(e),r}function a(e){return function t(n){if(p.call(n)===m)for(var a=0;a<n.length;a++)t(n[a]);else e(n)}}function r(e){return"-"+e.toLowerCase()}function s(e,t,n,a,o){var l,c,i;if(null!=e)if(/\$/.test(n))for(i in n=n.split("$"))b.call(n,i)&&s(e,t,n[i],a,o);else switch(p.call(e=e.valueOf())){case m:for(l=0;l<e.length;l++)s(e[l],t,n,a,o);break;case g:n=n&&n+"-";for(l in e)if(b.call(e,l))if(c=e[l],/\$/.test(l))for(i in l=l.split("$"))b.call(l,i)&&s(c,t,n+l[i],a,o);else s(c,t,n+l,a,o);break;default:l=n.replace(/_/g,"-").replace(/[A-Z]/g,r),!a||"animation-name"!=l&&"animation"!=l&&"list-style"!=l||(e=e.split(",").map(function(e){return e.replace(/:?global\(\s*([-\w]+)\s*\)|()([-\w]+)/,o.l)}).join(",")),l=l.replace(/^@/,"*"),t.d(l,l?":":"",e,";\n")}}function o(e,t,r,o,c,i,f){var u,g;if(/^@global$/.test(e))l(t,r,o,1,0,f);else if(/^@local$/.test(e))l(t,r,o,1,1,f);else if(/^@composes$/.test(e)){if(!i)return void r.a("@-error-at-composes-in-at-global","","",";\n");if(!c)return void r.a("@-error-at-composes-no-nesting","","",";\n");for(c=n(c),u=0;u<c.length;u++)e=/^\s*\.(\w+)\s*$/.exec(c[u]),null!=e?f.c(p.call(t)==m?t.map(function(e){return e.replace(/:?global\(\s*\.?([-\w]+)\s*\)|()\.([-\w]+)/,f.l)}).join(" "):t.replace(/:?global\(\s*\.?([-\w]+)\s*\)|()\.([-\w]+)/,f.l),e[1]):r.a("@-error-at-composes-bad-target"," ",JSON.stringify(c[u]),";\n")}else/^@(?:-[\w]+-)?(?:namespace|import|charset)$/.test(e)?a(function(t){r.a(e," ",t,";\n")})(t):/^@(?:-[\w]+-)?(?:font-face|viewport|swash|ornaments|annotation|stylistic|styleset|character-variant)$/.test(e)?a(function(t){r.a(e,"",""," {\n"),s(t,r,"",i,f),r.c("}\n")})(t):/^@(?:-[\w]+-)?(?:media|supports|document|page|keyframes|counter-style|font-feature-values)\b\s*(.+)/.test(e)?(g=e.match(/^@(?:-[\w]+-)?(?:media|supports|document|page|keyframes|counter-style|font-feature-values)\b\s*(.+)/)[1],e=e.match(/^@(?:-[\w]+-)?(?:media|supports|document|page|keyframes|counter-style|font-feature-values)/)[0],i&&/^@(?:-[\w]+-)?(?:keyframes|counter-style)/.test(e)&&(g=g.replace(/:?global\(\s*([-\w]+)\s*\)|()([-\w]+)/,f.l)),r.a(e," ",g," {\n"),/@(?:-[\w]+-)?(?:page|counter-style)/.test(e)?s(t,r,"",i,f):l(t,r,o,1,i,f),r.c("}\n")):r.a("@-error-unsupported-at-rule"," ",JSON.stringify(e),";\n")}function l(a,r,c,i,f,u){var w,b,d;switch(p.call(a)){case m:for(w=0;w<a.length;w++)l(a[w],r,c,i,f,u);break;case g:for(w in a)b=a[w],c&&/^[-\w$]+$/.test(w)?(d||(d=1,r.s(c||"*"," {\n")),s(b,r,w,f,u)):/^@/.test(w)?(d=d&&r.c("}\n")&&0,o(w,b,r,c,i,f,u)):(d=d&&r.c("}\n")&&0,l(b,r,/,/.test(c)||c&&/,/.test(w)?e(n(c),n(f?w.replace(/:global\(\s*(\.[-\w]+)\s*\)|(\.)([-\w]+)/g,u.l):w),c).join(","):t(c,f?w.replace(/:global\(\s*(\.[-\w]+)\s*\)|(\.)([-\w]+)/g,u.l):w,c),i||c?"":w,f,u));d&&r.c("}\n");break;case h:r.s(c||":-error-no-selector"," {\n"),s(a,r,"",f,u),r.c("}\n")}}function c(){function e(e){function t(){i.push.apply(a.b,arguments)}var a;a={b:[],a:t,s:t,d:t,c:t};for(var r=0;r<n.length;r++)a=n[r](a,e);return a}function t(e,t,n){for(n=0;n<r.length;n++)e=r[n](e)||e;return e.join("")}var n=[],r=[],o={flatIter:a,names:{},suffix:"__j2c-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36),use:function(){return f(i.slice.call(arguments)),o}},c={$names:a(function(e){for(var t in e)t in o.names||(o.names[t]=e[t])}),$filter:a(function(e){n.push(e)}),$postprocess:a(function(e){r.push(e)})},f=a(function(e){if(p.call(e)===w&&(e=e(o)),e)for(var t in e)b.call(e,t)&&(/^\$/.test(t)?t in c&&c[t](e[t]):t in o||(o[t]=e[t]))}),u={c:function(e,t){var n=o.names[t];o.names[t]=n.slice(0,n.lastIndexOf(" ")+1)+e+" "+n.slice(n.lastIndexOf(" ")+1)},l:function(e,t,n,a){return t?t:(o.names[a]||(o.names[a]=a+o.suffix),n+o.names[a].match(/\S+$/))}};return o.sheet=function(n,a){return l(n,a=e(!1),"","",1,u),a=t(a.b)},o.inline=function(n,a){return s(n,a=e(!0),"",1,u),t(a.b)},o}var i=[],f={},u="",p=f.toString,m=p.call(i),g=p.call(f),h=p.call(u),w=p.call(p),b=f.hasOwnProperty,d=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,v=c();return"sheet|sheets|inline|remove|names|flatIter".split("|").map(function(e){c[e]=v[e]}),c});